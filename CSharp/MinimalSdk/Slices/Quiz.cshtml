@inherits RazorSlice
@implements IUsesLayout<_Layout, LayoutModel>

<main>
  <div
    data-signals="{response:'',answer:''}"
    data-computed-correct="$response.toLowerCase() == $answer"
  >
    <div id="question"></div>
    <button
      data-on-click="@@post('/actions/quiz')"
      data-indicator-fetching
    >
      Fetch a question
    </button>
    <div data-class-loading="$fetching" class="indicator"></div>
    <button
      data-show="answer != ''"
      data-on-click="$response = prompt('Answer:') ?? ''"
    >
      BUZZ
    </button>
    <div data-show="$response != '' && !$fetching">
      You answered “<span data-text="$response"></span>”.
      <span data-show="$correct && !$fetching">That is correct ✅</span>
      <span data-show="!$correct && !$fetching">
        The correct answer is “<span data-text="$answer"></span>” 🤷
      </span>
    </div>
  </div>
</main>

@functions {
    public LayoutModel LayoutModel => new() { Title = "D* Quiz" };
}

